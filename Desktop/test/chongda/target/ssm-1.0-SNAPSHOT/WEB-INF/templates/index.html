<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form id="form-reg">
    <div>
        <h3>
            注册
        </h3>
        <p>
            用户名：<input type="text" name="UserName"/>
        </p>
        <p>
            密码：<input type="password" name="password"/>
        </p>
        <p>
            手机号：<input type="text" name="userPhoneNumber"/>
        </p>
        <p>
            性别：<input type="text" name="userGender"/>
        </p>
        <p>
            邮箱：<input type="text" name="eMail"/>
        </p>
        <p>
            <input id="reg"  type="submit" value="立即注册" />
        </p>
        <p>
            已有账号？<a href="login.html">请登录</a>
        </p>
    </div>
</form>

<!--	引入jQuery-->
<script type="text/javascript" src="/static/js/jquery-3.6.1.js"></script>
<script type="text/javascript" src="${pageContext.request.contextPath}/static/js/jquery-3.6.1.min.js"></script>
<!--	引入jQuery-->
<script type="text/javascript" src="/static/js/jquery-1.8.2.min.js">

    $("reg").click(function () {
        console.log($("#form-reg").serialize());
        $.ajax({
            url:"users/reg",
            type:"POST",
            data:$("#form-reg").serialize(),
            dataType:"JSON",
            success:function (json) {
                if(json.state==200){
                    alert("注册成功");
                }else{
                    alert("注册失败");
                }

            },
            error:function (xhr){
                alert("注册时产生了异常错误"+xhr.status);
            }
        });

    });
</script>
</body>
</html>